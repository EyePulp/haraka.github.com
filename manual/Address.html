<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Haraka Manual &raquo; Address Object</title>
        <link rel="stylesheet" type="text/css" href="/reset.css">
        <link rel="stylesheet" type="text/css" href="/chapter.css">
        <link rel="stylesheet" type="text/css" href="/sh_emacs.css">
        <script type="text/javascript" src="/sh_main.min.js"></script>
        <script type="text/javascript" src="/sh_javascript.min.js"></script>
        <script type="text/javascript">
        window.onload = function () {
            var pres = document.getElementsByTagName("pre"),
                text;

            for (var i = 0; i < pres.length; ++i) {
                text = pres[i].innerText || "";

                if (!(/^\s*\$/).test(text)) {
                    pres[i].className = "sh_javascript";
                }
            }

            sh_highlightDocument();
        }
        </script>
    </head>
    <body>
        <div id="content">
            <h1>Address Object</h1>

<p>The Address object is an interface to reading email addresses passed in at
SMTP time. As such it parses all the formats in RFC-2821 and 2822, and
supports correctly escaping email addresses.</p>

<h2>API</h2>

<ul>
<li>new Address (user, host)</li>
</ul>

<p>Create a new address object for user@host</p>

<ul>
<li>new Address (email)</li>
</ul>

<p>Creates a new address object by parsing the email address. Will throw an
exception if the address cannot be parsed.</p>

<ul>
<li>address.user</li>
</ul>

<p>Access the local part of the email address</p>

<ul>
<li>address.host</li>
</ul>

<p>Access the domain part of the email adress</p>

<ul>
<li>address.format()</li>
</ul>

<p>Provides the email address in the appropriate <code>&lt;user@host&gt;</code> format. And
deals correctly with the null sender and local names.</p>

<ul>
<li>address.toString()</li>
</ul>

<p>Same as format().</p>

<ul>
<li>address.address()</li>
</ul>

<p>Provides the email address in 'user@host' format.</p>

<h2>Advanced Usage</h2>

<p>It is possible to mess with the regular expressions used to match addresses
for stricter or less strict matching.</p>

<p>To change the behaviour mess with the following variables:</p>

<pre><code>var adr = require('./address');
// Now change one of the following. Note they are RegExp objects NOT strings.
adr.atom_expr;
adr.address_literal_expr;
adr.subdomain_expr;
adr.domain_expr;
adr.qtext_expr;
adr.text_expr;
// Don't forget to recompile:
adr.compile_re();
</code></pre>

        </div>
    </body>
</html>
