<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Haraka Manual &raquo; queue/smtp_forward plugin</title>
        <link rel="stylesheet" type="text/css" href="/reset.css">
        <link rel="stylesheet" type="text/css" href="/chapter.css">
        <link rel="stylesheet" type="text/css" href="/sh_emacs.css">
        <script type="text/javascript" src="/sh_main.min.js"></script>
        <script type="text/javascript" src="/sh_javascript.min.js"></script>
        <script type="text/javascript">
        window.onload = function () {
            var pres = document.getElementsByTagName("pre"),
                text;

            for (var i = 0; i < pres.length; ++i) {
                text = pres[i].innerText || "";

                if (!(/^\s*\$/).test(text)) {
                    pres[i].className = "sh_javascript";
                }
            }

            sh_highlightDocument();
        }
        </script>
    </head>
    <body>
        <div id="content">
            <h1>queue/smtp_forward</h1>

<p>This plugin delivers to another mail server. This is a common setup when you
want to have a mail server with a solid pedigree of outbound delivery to
other hosts, and inbound delivery to users.</p>

<p>In comparison to <code>queue/smtp_proxy</code>, this plugin waits until queue time to
attempt the ongoing connection. This can be a benefit in reducing connections
to your inbound mail server when you have content filtering (such as
spamassassin) enabled. However you miss out on the benefits of recipient
filtering that the ongoing mail server may provide.</p>

<h2>Configuration</h2>

<ul>
<li><p>smtp_forward.ini</p>

<p>Configuration is stored in this file in the following keys:</p>

<ul>
<li>host=HOST</li>
</ul>

<p>The host to connect to.</p>

<ul>
<li>port=PORT</li>
</ul>

<p>The port to connect to.</p>

<ul>
<li>connect_timeout=SECONDS</li>
</ul>

<p>The maximum amount of time to wait when creating a new connection
to the host.  Default if unspecified is 30 seconds.</p>

<ul>
<li>timeout=SECONDS</li>
</ul>

<p>The amount of seconds to let a backend connection live idle in the
connection pool.  This should always be less than the global plugin
timeout, which should in turn be less than the connection timeout.</p>

<ul>
<li>max_connections=NUMBER</li>
</ul>

<p>Maximum number of connections to create at any given time.</p>

<ul>
<li>enable_tls=[true|yes|1]</li>
</ul>

<p><p>Enable TLS with the forward host (if supported)</p></li>
</ul></p>

        </div>
    </body>
</html>
