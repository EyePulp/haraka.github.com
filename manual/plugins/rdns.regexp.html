<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Haraka Manual &raquo; rdns.regexp plugin</title>
        <link rel="stylesheet" type="text/css" href="/reset.css">
        <link rel="stylesheet" type="text/css" href="/chapter.css">
        <link rel="stylesheet" type="text/css" href="/sh_emacs.css">
        <script type="text/javascript" src="/sh_main.min.js"></script>
        <script type="text/javascript" src="/sh_javascript.min.js"></script>
        <script type="text/javascript">
        window.onload = function () {
            var pres = document.getElementsByTagName("pre"),
                text;

            for (var i = 0; i < pres.length; ++i) {
                text = pres[i].innerText || "";

                if (!(/^\s*\$/).test(text)) {
                    pres[i].className = "sh_javascript";
                }
            }

            sh_highlightDocument();
        }
        </script>
    </head>
    <body>
        <div id="content">
            <h1>rdns.regexp</h1>

<p>WARNING: The services offered by this plugin, and much more, are now provided
more efficiently with the connect.rdns<em>access plugin.  Please transition over
to using the new connect.rdns</em>access plugin, as this plugin is now deprecated
and may be removed in a future version of Haraka.</p>

<p>This plugin checks the reverse-DNS against a list of regular expressions. Any
matches will result in a rejection, unless there is an allow rule to
balance off broad regexes.</p>

<p>To give an example.  Assume we add a rule to deny all hosts with dynamic
in the rDNS hostname (.<em>dynamic.</em>).  Now we find a mail server,
generaldynamics.com that is clearly a false positive.  We could try
to correct the original regex (clearly it is a poorly written regex), or
we could add an allow rule for generaldynamics.com (.*generaldynamics.com$).
This means that even though the dynamic block rule matches, it will be
superseded by the allow rule for generaldynamics.com.</p>

<h2>Configuration</h2>

<ul>
<li><p>rdns.deny_regexps</p>

<p>The list of regular expressions to deny.  Over broad regexes in this list
can be corrected by using the allow list. </p></li>
<li><p>rdns.allow_regexps</p>

<p>The list of regular expressions to allow.  This list is always processed
in favor of rules in the deny file.</p></li>
</ul>

        </div>
    </body>
</html>
